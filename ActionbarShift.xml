<Ui xmlns="http://www.blizzard.com/wow/ui/"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\..\FrameXML\UI.xsd">
  <Script file="ActionbarShift.lua" />

  <Button name="ActionbarShift" frameStrata="LOW" parent="UIParent">
    <Size x="32" y="170" />
    <Anchors>
      <Anchor point="RIGHT" relativeTo="MultiBarLeftButton6" relativePoint="LEFT" x="0" y="0" />
    </Anchors>
    <Layers>
      <Layer level="ATWORK">
        <Texture name="$parentTabTexture" parentKey="tabTexture" file="Interface\ChatFrame\ChatFrameTab" setAllPoints="true" />
      </Layer>
      <Layer level="HIGHLIGHT">
        <Texture name="$parentTopHighlightTexture" file="Interface\ChatFrame\ChatFrameTab-HighlightRight" alphaMode="ADD" parentKey="topHighlightTexture">
          <Size x="32" y="32" />
          <Anchors>
            <Anchor point="TOPLEFT" x="0" y="-3" />
          </Anchors>
        </Texture>
        <Texture name="$parentBottomHighlightTexture" file="Interface\ChatFrame\ChatFrameTab-HighlightLeft" alphaMode="ADD" parentKey="bottomHighlightTexture">
          <Size x="32" y="32" />
          <Anchors>
            <Anchor point="BOTTOMRIGHT" x="0" y="3" />
          </Anchors>
        </Texture>
        <Texture name="$parentLeftHighlightTexture" file="Interface\ChatFrame\ChatFrameTab-HighlightMid" horizTile="true" alphaMode="ADD" parentKey="leftHighlightTexture">
          <Anchors>
            <Anchor point="TOPLEFT" relativeTo="$parentTopHighlightTexture" relativePoint="BOTTOMLEFT" />
            <Anchor point="BOTTOMRIGHT" relativeTo="$parentBottomHighlightTexture" relativePoint="TOPRIGHT" x="0" y="0" />
          </Anchors>
        </Texture>
      </Layer>
    </Layers>
    <Frames>
      <Frame name="$parentToggleButton" frameLevel="3" inherits="SecureHandlerClickTemplate" parentKey="toggleButton">
        <Size x="16" y="64" />
        <Anchors>
          <Anchor point="LEFT" x="12" y="0" />
        </Anchors>
        <Layers>
          <Layer level="OVERLAY">
            <Texture file="Interface\AddOns\ActionbarShift\texture\RaidPanel-Toggle" parentKey="texture">
              <TexCoords left="1" right="0.5" top="0" bottom="1" />
            </Texture>
          </Layer>
        </Layers>
      </Frame>
    </Frames>
    <Scripts>
      <OnLoad function="ActionbarShift_OnLoad" />
      <OnEvent function="ActionbarShift_OnEvent" />
      <OnClick>
          if UnitAffectingCombat("player") then return DEFAULT_CHAT_FRAME:AddMessage("Действие в бою заблокировано."); end
          ActionbarShift_Toggle(self);
      </OnClick>
      <OnMouseDown>
          local tex = self.toggleButton.texture;
          tex:ClearAllPoints();
          tex:SetSize(self.toggleButton:GetSize());
          tex:SetPoint("CENTER", -1, 0);
      </OnMouseDown>
      <OnMouseUp>
          local tex = self.toggleButton.texture;
          tex:SetAllPoints();
      </OnMouseUp>
    </Scripts>
  </Button>
</Ui>
